TAP version 14
# Subtest: API Endpoints
    # Subtest: POST /register - success
        not ok 1 - should be equal
          ---
          compare: ===
          at:
            fileName: test\api.test.js
            lineNumber: 32
            columnNumber: 9
            typeName: Test
          stack: |
            Test.<anonymous> (test/api.test.js:32:9)
          source: "      const data = response.data;\r
          
            \r
          
            \      t.equal(response.status, 201);\r
          
            --------^
          
            \      t.match(data, { message: 'User created successfully' });\n"
          diff: |
            --- expected
            +++ actual
            @@ -1,1 +1,1 @@
            -201
            +200
          ...
        
        not ok 2 - should match pattern
          ---
          diff: |
            --- expected
            +++ actual
            @@ -1,3 +1,1 @@
            -Object {
            -  "message": "User created successfully",
            -}
            +"/users/5"
          at:
            fileName: test\api.test.js
            lineNumber: 33
            columnNumber: 9
            typeName: Test
          stack: |
            Test.<anonymous> (test/api.test.js:33:9)
          source: "\r
          
            \      t.equal(response.status, 201);\r
          
            \      t.match(data, { message: 'User created successfully' });\r
          
            --------^
          
            \r
          
            \      userId = data.user.id; // Save userId for further tests\n"
          ...
        
        not ok 3 - POST /register failed: Cannot read properties of undefined (reading 'id')
          ---
          at:
            fileName: test\api.test.js
            lineNumber: 37
            columnNumber: 9
            typeName: Test
          stack: |
            Test.<anonymous> (test/api.test.js:37:9)
          source: "      userId = data.user.id; // Save userId for further tests\r
          
            \    } catch (error) {\r
          
            \      t.fail(`POST /register failed: ${error.message}`);\r
          
            --------^
          
            \    }\r
          
            \  });\n"
          ...
        
        1..3
    not ok 1 - POST /register - success # time=132.097ms
      ---
      at:
        fileName: test\api.test.js
        lineNumber: 22
        columnNumber: 5
        typeName: Test
      source: "  });\r
      
        \r
      
        \  t.test('POST /register - success', async (t) => {\r
      
        ----^
      
        \    try {\r
      
        \      const response = await axios.post(apiUrl('/register'), {\n"
      ...
    
    1..1
not ok 1 - API Endpoints # time=138.606ms
  ---
  at:
    fileName: test\api.test.js
    lineNumber: 10
    columnNumber: 5
    isToplevel: true
  source: "const apiUrl = (endpoint) => `http://localhost:${port}${endpoint}`;\r
  
    \r
  
    tap.test('API Endpoints', async (t) => {\r
  
    ----^
  
    \  let userId = null;\r
  
    \  let authToken = null;\n"
  ...

1..1
